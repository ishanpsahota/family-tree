(function(t){function e(e){for(var r,n,o=e[0],l=e[1],c=e[2],u=0,m=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(s,n)&&s[n]&&m.push(s[n][0]),s[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);d&&d(e);while(m.length)m.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],r=!0,o=1;o<a.length;o++){var l=a[o];0!==s[l]&&(r=!1)}r&&(i.splice(e--,1),t=n(n.s=a[0]))}return t}var r={},s={app:0},i=[];function n(e){if(r[e])return r[e].exports;var a=r[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=t,n.c=r,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},1:function(t,e){},10:function(t,e){},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},2:function(t,e){},3:function(t,e){},4:function(t,e){},5:function(t,e){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],n={name:"App"},o=n,l=a("2877"),c=Object(l["a"])(o,s,i,!1,null,null,null),d=c.exports,u=(a("45fc"),a("8c4f")),m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-0",attrs:{id:"home"}},[a("vue-headful",{attrs:{title:t.title}}),a("div",{staticClass:"crow row h-r1 w-100 p-0 m-0 d-flex flex-row"},[a("div",{staticClass:"col-12 my-0  mx-auto"},[a("Nav")],1),a("div",{staticClass:"col-12 m-auto text-center text-light"},[a("h1",{staticClass:"display-1 "},[t._v(" Family Tree ")]),t.loggedIn?a("h2",[t._m(0)]):a("h2",[t._m(1)])])]),t._m(2),t._m(3)],1)},p=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",[a("a",{staticClass:"text-warning",attrs:{href:"/trees"}},[t._v(" View Trees ")]),t._v(" or "),a("a",{staticClass:"text-warning",attrs:{href:"/profile"}},[t._v(" View Profile ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("small",[a("a",{staticClass:"text-warning",attrs:{href:"/login"}},[t._v(" Login ")]),t._v(" or "),a("a",{staticClass:"text-warning",attrs:{href:"/register"}},[t._v(" Register")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"crow row h-r2 w-100 p-0 m-0 d-flex flex-row"},[a("div",{staticClass:"col-12 m-auto text-center text-light"},[a("h2",[t._v("By "),a("a",{staticClass:"text-light display-4",attrs:{href:"https://instagram.com/ishanpsahota"}},[t._v(" Ishan Prasad ")])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"crow row h-r3 w-100 p-0 m-0"},[a("div",{staticClass:"col-12 m-auto text-center text-light"},[a("h2",[t._v(" Check out my "),a("a",{staticClass:"text-warning",attrs:{href:"https://github.com/ishanpsahota"}},[t._v(" github")]),t._v(". "),a("small",[t._v(" It's empty though. ")])])])])}],v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav-row fixed-top row w-100 m-0",attrs:{id:"nav"}},[a("nav",{staticClass:"nav nBar navbar-expand-md p-3 h-25 w-100 "},[a("a",{class:" nav-link navbar-brand "+this.getActive(""),attrs:{href:"/"}},[t._v(" Welcome ")]),t.loggedIn?a("a",{class:"nav-link  "+this.getActive("trees"),attrs:{href:"/trees"}},[t._v(" Trees "),a("i",{staticClass:"fa fa-tree",attrs:{"aria-hidden":"true"}})]):a("a",{class:"nav-link  "+this.getActive("register"),attrs:{href:"/register"}},[t._v(" Register ")]),t.loggedIn?a("button",{staticClass:"btn",class:"nav-link  "+this.getActive("logout"),on:{click:function(e){return t.logout()}}},[t._v(" Logout "),a("i",{staticClass:"fas fa-sign-out-alt    "})]):a("a",{class:"nav-link  "+this.getActive("login"),attrs:{href:"/login"}},[t._v(" Login ")]),t.name?a("a",{staticClass:"ml-auto text-light nav-link"},[t._v(" Hi, "+t._s(t.name)+"! ")]):t._e()])])},h=[],g=(a("ac1f"),a("1276"),{name:"Nav",data:function(){return{loggedIn:"",name:localStorage.getItem("name")}},methods:{getActive:function(t){var e=this.$route.path,a=e.split("/");return a[2],a[1]==t?" bg-light rounded shadow-sm text-dark ":"  text-light "},checkStatus:function(){this.loggedIn=!!this.$store.getters.isLoggedIn},logout:function(){this.$store.dispatch("logout"),this.$router.push("/login")}},created:function(){this.checkStatus()}}),f=g,b=(a("5b49"),Object(l["a"])(f,v,h,!1,null,null,null)),_=b.exports,C={name:"Home",components:{Nav:_},data:function(){return{title:"Home",loggedIn:!1}},created:function(){this.loggedIn=!!this.$store.getters.isLoggedIn}},w=C,y=Object(l["a"])(w,m,p,!1,null,null,null),x=y.exports,E=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-0",attrs:{id:"login"}},[a("vue-headful",{attrs:{title:t.title}}),a("div",{staticClass:"row l-r1 crow p-5 d-flex flex-row m-0 w-100 text-light"},[a("div",{staticClass:"col-12 my-0  mx-auto"},[a("Nav")],1),t._m(0)]),a("div",{staticClass:"row crow l-r2 p-0 m-0 d-flex flex-row"},[a("div",{staticClass:"col-6 m-auto border rounded p-5 shadow-lg"},[a("form",{staticClass:"text-light",on:{submit:function(e){return e.preventDefault(),t.login()}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("E-Mail")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control bg-transparent text-light border-light",attrs:{type:"email",name:"email",id:"email",placeholder:"Enter E-Mail",required:"","aria-describedby":"emailSmall"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("small",{staticClass:"text-light",attrs:{id:"emailSmall"}},[t._v("Enter E-Mail here")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v(" Password ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control bg-transparent text-light border-light",attrs:{type:"password",name:"password",id:"password",minlength:"6",required:"",placeholder:"******"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("small",{staticClass:"text-light",attrs:{id:"emailSmall"}},[t._v("Enter Password here")])]),a("button",{staticClass:"btn btn-light btn-lg btn-block",attrs:{type:"submit"}},[t._v("Login")])])])])],1)},T=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 mx-auto mt-0 text-center"},[a("h1",{staticClass:"display-1"},[t._v(" Login ")])])}],M={name:"Login",components:{Nav:_},data:function(){return{title:"Login",email:"",password:"s"}},methods:{login:function(){var t=this;this.loading=!0;var e=this.email,a=this.password;this.$store.dispatch("login",{email:e,password:a}).then((function(){t.loading=!1,t.$router.push("/trees")})).catch((function(e){t.loading=!1,t.msg=e}))}}},O=M,A=Object(l["a"])(O,E,T,!1,null,null,null),S=A.exports,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-0 m-0",attrs:{id:"trees"}},[a("vue-headful",{attrs:{title:t.title}}),a("div",{staticClass:"row crow t-r1 p-0 m-0 w-100 d-flex flex-row"},[a("div",{staticClass:"col-12 my-0  mx-auto"},[a("Nav")],1),t._m(0)]),a("div",{staticClass:"crow row p-5 m-0 bg-light"},[t._m(1),a("div",{staticClass:"col-12"},[a("div",{staticClass:"card-columns"},[a("div",{staticClass:"card text-dark bg-white shadow"},[t.addNewDiv?a("div",{staticClass:"card-body text-center"},[a("button",{staticClass:"btn btn-white",attrs:{type:"button"},on:{click:function(e){return t.toggleDiv()}}},[a("h1",{staticClass:"card-title display-1"},[t._v(" + ")]),a("p",{staticClass:"card-text"},[t._v(" New Tree ")])])]):t._e(),t.showNewDiv?a("div",{staticClass:"card-body"},[a("form",{on:{submit:function(e){return e.preventDefault(),t.newTree()}}},[a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.treeTitle,expression:"treeTitle"}],staticClass:"form-control",attrs:{type:"text",name:"treeTitle",placeholder:"Enter name here","aria-label":"treeTitle","aria-describedby":"treeTitle"},domProps:{value:t.treeTitle},on:{input:function(e){e.target.composing||(t.treeTitle=e.target.value)}}})])]),a("div",{staticClass:"form-group"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("input",{staticClass:"form-control",attrs:{type:"text",disabled:"",name:"name",placeholder:"Enter name here","aria-label":"name","aria-describedby":"name"},domProps:{value:this.getOwner().name}})])]),t.treeAdd?a("button",{staticClass:"btn btn-primary m-1",attrs:{type:"submit"}},[t._v("Submit")]):t._e(),t.treeAdding?a("button",{staticClass:"btn btn-primary m-1",attrs:{type:"button"}},[a("div",{staticClass:"spinner-border text-light"})]):t._e(),t.treeAdded?a("button",{staticClass:"btn btn-success m-1",attrs:{type:"button"}},[t._v("Created!")]):t._e(),t.treeAddErr?a("button",{staticClass:"btn btn-danger m-1",attrs:{type:"button"}},[t._v("Error!")]):t._e(),a("button",{staticClass:"btn btn-danger m-1",attrs:{type:"reset"},on:{click:function(e){return t.toggleDiv()}}},[t._v("Cancel")]),t.error?a("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._m(4),a("strong",[t._v("Error!")]),t._v(" "+t._s(t.error)+" ")]):t._e()])]):t._e()]),t.gettingTrees?a("span",[a("div",{staticClass:"spinner-border text-dark"})]):t._e(),t.getTreesErr?a("span",[t._m(5)]):t._e(),t._l(t.trees,(function(e,r){return a("div",{key:r,staticClass:"card"},[a("div",{staticClass:"card-body"},[a("button",{staticClass:"btn bg-transparent",attrs:{type:"button"},on:{click:function(a){return t.viewTree(e.randomId)}}},[a("h2",{},[t._v(" "+t._s(e.name)+" ")])])])])}))],2)])])],1)},$=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 p-5 mx-auto mt-0 text-center  text-light"},[a("h1",{staticClass:"display-1"},[t._v(" Trees ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("h1",{staticClass:"display-4"},[t._v(" Your "),a("i",{staticClass:"fa fa-tree",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"treeTitle"}},[t._v("Tree title ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"treeTitle"}},[t._v("Owner ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])]),a("strong",[t._v("Error!")]),t._v(" Error Getting Trees ")])}],N=(a("d3b7"),a("25f0"),a("5319"),a("bc3a")),I=a.n(N);I.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",I.a.defaults.headers.common["Access-Control-Allow-Headers"]="http://localhost:8080";var P="http://localhost:8081",D={register:P+"/register",owner:P+"/owner",newTree:P+"/new",getTrees:P+"/trees/",viewTrees:P+"/viewtree/",getAllMembers:P+"/members/"},j={getUrl:function(){return D},addMember:function(t){var e=this;return new Promise((function(a,r){I.a.post(e.getUrl().register,t).then((function(t){200===t.status&&a(t)})).catch((function(t){r(t)}))}))},register:function(t){var e=this;return new Promise((function(a,r){I.a.post(e.getUrl().owner,t).then((function(t){200===t.status&&a(t)})).catch((function(t){r(t)}))}))},newTree:function(t){var e=this;return new Promise((function(a,r){I.a.post(e.getUrl().newTree,t).then((function(t){200===t.status&&a(t)})).catch((function(t){r(t)}))}))},getTrees:function(t){var e=this;if(t)return new Promise((function(a,r){I.a.get(e.getUrl().getTrees+t).then((function(t){a(t)})).catch((function(t){r(t)}))}))},viewTree:function(t){var e=this;if(t)return new Promise((function(a,r){I.a.get(e.getUrl().viewTrees+t).then((function(t){a(t)})).catch((function(t){r(t)}))}))},getAllMembers:function(t,e){var a=this;if(t&&e)return new Promise((function(r,s){I.a.get(a.getUrl().getAllMembers+t+"/"+e).then((function(t){r(t.data)})).catch((function(t){s(t)}))}))}},B=a("0934"),q=a.n(B),F={name:"Trees",components:{Nav:_},data:function(){return{title:"Trees",showNewDiv:!1,addNewDiv:!0,treeTitle:"",treeAdd:!0,treeAdding:!1,treeAddErr:!1,treeAdded:!1,error:"",trees:"",gettingTrees:!1,getTreesErr:!1}},methods:{toggleDiv:function(){this.addNewDiv=!this.addNewDiv,this.showNewDiv=!this.showNewDiv},getOwner:function(){return{name:localStorage.getItem("name"),id:localStorage.getItem("id")}},newTree:function(){var t=this;this.treeAdd=!1,this.treeAdding=!0;var e=q.a.AES.encrypt(this.getOwner().id,"ishanpsahota@m3ral@wda").toString();e=e.replace(/[^a-zA-Z0-9]/g,""),console.log(e);var a={name:this.treeTitle,randomId:e,ownerId:localStorage.getItem("id"),members:[{memberId:localStorage.getItem("id"),relWithOwner:"self",parentId:null}]};j.newTree(a).then((function(e){200===e.status&&(t.treeAdding=!1,t.treeAdded=!0,setTimeout((function(){t.treeAdded=!1,t.treeAdd=!0,t.toggleDiv(),t.getTrees()}),3500))})).catch((function(e){e&&(t.treeAdding=!1,t.treeAddErr=!0,t.error=e,setTimeout((function(){t.treeAddErr=!1,t.treeAdd=!0}),3500))}))},getTrees:function(){var t=this;this.gettingTrees=!0,j.getTrees(this.getOwner().id).then((function(e){200===e.status&&(t.gettingTrees=!1,t.trees=e.data.trees)})).catch((function(e){e&&(t.gettingTrees=!1,t.getTreesErr=!0)}))},viewTree:function(t){this.$router.push("/tree/"+t)}},created:function(){this.getTrees()}},L=F,R=(a("f2a5"),Object(l["a"])(L,k,$,!1,null,"3c5a9e4c",null)),G=R.exports,H=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-0",attrs:{id:"register"}},[a("vue-headful",{attrs:{title:t.title}}),a("div",{staticClass:"row p-0 m-0 "},[a("div",{staticClass:"row r-r1 crow p-5 d-flex sticky-top flex-row m-0 w-100 text-light"},[a("div",{staticClass:"col-12 my-0  mx-auto"},[a("Nav")],1),t._m(0)]),a("div",{staticClass:"row crow r-r2 m-0 sticky-top w-100 d-flex flex-row"},[a("div",{staticClass:"p-5 col-12"},[a("div",{staticClass:"col-8 m-auto border rounded p-5 shadow-lg"},[a("form",{staticClass:"text-light",on:{submit:function(e){return e.preventDefault(),t.owner()}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"name"}},[t._v("Name")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control ",attrs:{type:"text",name:"name",id:"name",placeholder:"Enter Name",required:"","aria-describedby":"nameSmall"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),a("small",{staticClass:"text-light",attrs:{id:"emailSmall"}},[t._v("Enter Name here")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"email"}},[t._v("E-Mail")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control ",attrs:{type:"email",name:"email",id:"email",placeholder:"Enter E-Mail",required:"","aria-describedby":"emailSmall"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),a("small",{staticClass:"text-light",attrs:{id:"emailSmall"}},[t._v("Enter E-Mail here")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"username"}},[t._v("Gender")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-control",attrs:{name:"gender"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.gender=e.target.multiple?a:a[0]}}},[a("option",{staticClass:"form-control",attrs:{value:"disabled",disabled:"",selected:""}},[t._v(" Choose One ")]),a("option",{staticClass:"form-control",attrs:{value:"male"}},[t._v(" Male ")]),a("option",{staticClass:"form-control",attrs:{value:"female"}},[t._v(" Female ")]),a("option",{staticClass:"form-control",attrs:{value:"other"}},[t._v(" Other ")])])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"dOb"}},[t._v("Date of Birth")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dOb,expression:"dOb"}],staticClass:"form-control",attrs:{type:"date",name:"dOb",id:"dOb",placeholder:"Choose Date of Birth","aria-describedby":"helpId"},domProps:{value:t.dOb},on:{input:function(e){e.target.composing||(t.dOb=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"password"}},[t._v(" Password ")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control ",attrs:{type:"password",name:"password",id:"password",minlength:"6",required:"",placeholder:"******"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),a("small",{staticClass:"text-light",attrs:{id:"emailSmall"}},[t._v("Enter Password here")])]),t.loader?a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"submit"}},[t._v("Register")]):t._e(),t.loading?a("button",{staticClass:"btn btn-primary btn-block",attrs:{type:"button",disabled:""}},[a("div",{staticClass:"spinner-border text-light"})]):t._e(),t.loadErr?a("button",{staticClass:"btn btn-danger btn-block",attrs:{type:"button",disabled:""}},[t._v("Error")]):t._e(),t.loadingDone?a("button",{staticClass:"btn btn-success btn-block",attrs:{type:"button"}},[t._v("Registered!")]):t._e(),a("button",{staticClass:"btn btn-dark btn-block",attrs:{type:"reset"}},[t._v("Reset")]),t.err?a("span",[a("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._m(1),a("strong",[t._v("Error!")]),t._v(" "+t._s(t.err)+" ")])]):t._e()])])]),a("div",{staticClass:"col-12 p-0 m-0"},[a("Footer")],1)])])],1)},U=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 mx-auto mt-0 text-center"},[a("h1",{staticClass:"display-1"},[t._v(" Register ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])])}],V=(a("b0c0"),function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)}),z=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"footer"}},[a("div",{staticClass:"row m-0 "},[a("div",{staticClass:"col-sm-12 footer bg-dark d-flex flex-column flex-lg-row"},[a("div",{staticClass:"col-sm-12 col-lg-4 text-white py-5"}),a("div",{staticClass:"col-sm-12 col-lg-4 text-white py-5"}),a("div",{staticClass:"col-sm-12 col-lg-4 text-white py-5"})])])])}],J={name:"Footer"},W=J,Y=Object(l["a"])(W,V,z,!1,null,null,null),Z=Y.exports,K={name:"Login",components:{Nav:_,Footer:Z},data:function(){return{title:"Login",name:"",dOb:"",email:"",password:"",gender:"",err:"",loading:!1,loadErr:!1,loadingDone:!1,loader:!0}},methods:{owner:function(){var t=this;this.loader=!1,this.loading=!0;var e={name:this.name,dOb:this.dOb,email:this.email,password:this.password,gender:this.gender};j.register(e).then((function(e){console.log("here"),200===e.status&&(t.loading=!1,t.loadingDone=!0,setTimeout(3500,(function(){t.$router.push("/trees")})))})).catch((function(e){console.log("not here"),e&&(t.loading=!1,t.loadErr=!0,setTimeout(3e3,(function(){t.loader=!0})))}))}}},Q=K,X=Object(l["a"])(Q,H,U,!1,null,null,null),tt=X.exports,et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-0 m-0",attrs:{id:"newTree"}},[a("vue-headful",{attrs:{title:t.title}}),a("div",{staticClass:"row crow nt-r1 d-flex flex-row p-0 m-0 w-100"},[a("div",{staticClass:"col-12 mt-0 mx-auto"},[a("Nav")],1),t._m(0)]),a("div",{staticClass:"row chart-row bg-light sticky-top nt-r2 p-5 m-0 w-100"},[a("h1",{staticClass:"display-4"},[t._v(" New Tree ")]),a("div",{staticClass:"col-12 h-100"},[a("div",{staticClass:"form-group w-50"},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.treeTitle,expression:"treeTitle"}],staticClass:"form-control",attrs:{type:"text",name:"treeTitle",placeholder:"Enter name here","aria-label":"treeTitle","aria-describedby":"treeTitle"},domProps:{value:t.treeTitle},on:{input:function(e){e.target.composing||(t.treeTitle=e.target.value)}}}),t._m(2)])]),a("form",{on:{submit:function(e){return e.preventDefault(),t.addMember()}}},[a("div",{staticClass:"card p-2 w-50 shadow"},[a("div",{staticClass:"card-body"},[a("strong",[t._v(" Add Member ")]),t._m(3),t._m(4),t._m(5),a("div",{staticClass:"form-group m-0"},[a("div",{staticClass:"input-group mb-3"},[t._m(6),a("select",{staticClass:"form-control",attrs:{name:"relationship"}},[a("option",{attrs:{value:"none",disabled:"",selected:""}},[t._v(" Choose one ")]),a("option",{attrs:{value:"father",disabled:this.getFather()}},[t._v(" Father ")]),a("option",{attrs:{value:"mother"}},[t._v(" Mother ")]),a("option",{attrs:{value:"sister"}},[t._v(" Sister ")]),a("option",{attrs:{value:"brother"}},[t._v(" Brother ")]),a("option",{attrs:{value:"spouse"}},[t._v(" Spouse ")])])])]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Add Member ")])])])]),a("Chart")],1)]),a("Footer")],1)},at=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-12 mt-0 mx-auto text-center text-light"},[a("h1",{staticClass:"display-1"},[t._v(" New Tree ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"treeTitle"}},[t._v("Tree title ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-append"},[a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v(" Save! ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group my-2"},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"name"}},[t._v("Member Name ")])]),a("input",{staticClass:"form-control",attrs:{type:"text",placeholder:"Enter name here","aria-label":"name","aria-describedby":"name"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group "},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"dOb"}},[t._v("Member Date of Birth ")])]),a("input",{staticClass:"form-control",attrs:{type:"date","aria-label":"dOb","aria-describedby":"dOb"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group m-0"},[a("div",{staticClass:"input-group mb-3"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"email"}},[t._v("@ ")])]),a("input",{staticClass:"form-control",attrs:{type:"email",placeholder:"Enter E-Mail for the member","aria-label":"email","aria-describedby":"email"}})])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"email"}},[t._v("Relationship ")])])}],rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"tree",attrs:{id:"tree"}})},st=[],it=a("a042"),nt={name:"tree",data:function(){return{nodes:[{id:1,name:"Denny Curtis",title:"CEO",img:"https://cdn.balkan.app/shared/2.jpg"},{id:2,pid:1,name:"Ashley Barnett",title:"Sales Manager",img:"https://cdn.balkan.app/shared/3.jpg"},{id:3,pid:1,name:"Caden Ellison",title:"Dev Manager",img:"https://cdn.balkan.app/shared/4.jpg"},{id:4,pid:2,name:"Elliot Patel",title:"Sales",img:"https://cdn.balkan.app/shared/5.jpg"},{id:5,pid:2,name:"Lynn Hussain",title:"Sales",img:"https://cdn.balkan.app/shared/6.jpg"},{id:6,pid:3,name:"Tanner May",title:"Developer",img:"https://cdn.balkan.app/shared/7.jpg"},{id:7,pid:3,name:"Fran Parsons",title:"Developer",img:"https://cdn.balkan.app/shared/8.jpg"}]}},methods:{oc:function(t,e){this.chart=new it["a"](t,{nodes:e,nodeBinding:{field_0:"name",field_1:"title",img_0:"img"}})},changeBg:function(){},getOwner:function(){}},mounted:function(){this.oc(this.$refs.tree,this.nodes)}},ot=nt,lt=Object(l["a"])(ot,rt,st,!1,null,null,null),ct=lt.exports,dt={name:"NewTree",components:{Nav:_,Footer:Z,Chart:ct},data:function(){return{title:"New Tree",treeTitle:"",name:"",email:"",relationship:"",dOb:""}},methods:{getFather:function(){},addMember:function(){}}},ut=dt,mt=Object(l["a"])(ut,et,at,!1,null,null,null),pt=mt.exports,vt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-0 m-0",attrs:{id:"viewTre"}},[a("vue-headful",{attrs:{title:t.tree.name}}),a("div",{staticClass:"row crow nt-r1 d-flex flex-row p-0 m-0 w-100"},[a("div",{staticClass:"col-12 mt-0 mx-auto"},[a("Nav")],1),a("div",{staticClass:"col-12 mt-0 mx-auto text-center text-light"},[a("h1",{staticClass:"display-1"},[t._v(" "+t._s(t.tree.name)+" ")])])]),a("div",{staticClass:"row bg-light nt-r2 p-5 m-0 w-100"},[a("h1",{staticClass:"display-4"},[t._v(" Edit Tree ")]),a("div",{staticClass:"col-12 "},[a("div",{staticClass:"card p-2 w-50 shadow"},[a("div",{staticClass:"card-body"},[a("strong",[t._v(" Add Member ")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.addMember()}}},[a("div",{staticClass:"form-group my-2"},[a("div",{staticClass:"input-group mb-3"},[t._m(0),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",required:"",placeholder:"Enter name here","aria-label":"name","aria-describedby":"name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})])]),a("div",{staticClass:"form-group "},[a("div",{staticClass:"input-group mb-3"},[t._m(1),a("input",{directives:[{name:"model",rawName:"v-model",value:t.dOb,expression:"dOb"}],staticClass:"form-control",attrs:{type:"date",name:"dOb","aria-label":"dOb",required:"","aria-describedby":"dOb"},domProps:{value:t.dOb},on:{input:function(e){e.target.composing||(t.dOb=e.target.value)}}})])]),a("div",{staticClass:"form-group m-0"},[a("div",{staticClass:"input-group mb-3"},[t._m(2),a("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",required:"",name:"email",placeholder:"Enter E-Mail for the member","aria-label":"email","aria-describedby":"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})])]),a("div",{staticClass:"form-group m-0"},[a("div",{staticClass:"input-group mb-3"},[t._m(3),a("select",{directives:[{name:"model",rawName:"v-model",value:t.gender,expression:"gender"}],staticClass:"form-control",attrs:{required:"",name:"gender"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.gender=e.target.multiple?a:a[0]}}},[a("option",{staticClass:"form-control",attrs:{value:"disabled",disabled:"",selected:""}},[t._v(" Choose One ")]),a("option",{staticClass:"form-control",attrs:{value:"male"}},[t._v(" Male ")]),a("option",{staticClass:"form-control",attrs:{value:"female"}},[t._v(" Female ")]),a("option",{staticClass:"form-control",attrs:{value:"other"}},[t._v(" Other ")])])])]),a("div",{staticClass:"form-group m-0"},[a("div",{staticClass:"input-group mb-3"},[t._m(4),a("select",{directives:[{name:"model",rawName:"v-model",value:t.relationship,expression:"relationship"}],staticClass:"form-control",attrs:{required:"",name:"relationship"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.relationship=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"none",disabled:"",selected:""}},[t._v(" Choose one ")]),a("option",{attrs:{value:"father",disabled:this.getFather()}},[t._v(" Father ")]),a("option",{attrs:{value:"mother"}},[t._v(" Mother ")]),a("option",{attrs:{value:"sister"}},[t._v(" Sister ")]),a("option",{attrs:{value:"brother"}},[t._v(" Brother ")]),a("option",{attrs:{value:"spouse"}},[t._v(" Spouse ")]),a("option",{attrs:{value:"son"}},[t._v(" Son ")]),a("option",{attrs:{value:"daughter"}},[t._v(" Daughter ")])])])]),t.addMemberBtn?a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Add Member ")]):t._e(),t.addingMember?a("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[a("div",{staticClass:"spinner-border text-light"})]):t._e(),t.addedMember?a("button",{staticClass:"btn btn-success",attrs:{type:"button"}},[t._v("Added Member! ")]):t._e(),t.addMemberErr?a("button",{staticClass:"btn btn-danger",attrs:{type:"button"}},[t._v("Error! ")]):t._e(),t.addMemberErr?a("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._m(5),a("strong",[t._v("Error!")]),t._v(" "+t._s(t.error)+" ")]):t._e()])])])])]),a("div",{staticClass:"chart-row row p-2 bg-light m-0 w-100"},[t.tree?a("div",{staticClass:"w-100 col-11 m-auto bg-white rounded shadow"},[t._v(" "+t._s(t.allMembers)+" "),a("Chart")],1):t._e(),t.treeGetErr||t.memberErr?a("div",{staticClass:"col-12"},[a("div",{staticClass:"alert alert-danger alert-dismissible fade show",attrs:{role:"alert"}},[t._m(6),a("strong",[t._v("Error Getting Tree/Members!")]),t._v(" "+t._s(t.error)+" ")])]):t._e()]),a("Footer")],1)},ht=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"name"}},[t._v("Member Name ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"dOb"}},[t._v("Member Date of Birth ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"email"}},[t._v("@ ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"gender"}},[t._v("Gender ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"relationship"}},[t._v("Relationship ")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")]),a("span",{staticClass:"sr-only"},[t._v("Close")])])}],gt=(a("4160"),a("498a"),a("159b"),{name:"NewTree",components:{Nav:_,Footer:Z,Chart:ct},data:function(){return{title:"New Tree",name:"",email:"",relationship:"",dOb:"",tree:"",gender:"",treeGetErr:!1,error:"",members:"",owner:{id:"",title:"",name:""},memberErr:"",allMembers:"",addMemberBtn:!0,addingMember:!1,addMemberErr:!1,addedMember:!1}},methods:{getFather:function(){},addMember:function(){var t=this;if(this.addMemberBtn=!1,this.addingMember=!0,this.name&&this.email&&this.gender&&this.dOb&&this.relationship){var e=this.name.toLowerCase().trim().split(" "),a=e[0];a+=this.dOb.split("-")[0];var r={name:this.name,gender:this.gender,email:this.email,password:a,relationships:{name:this.getRelationship(this.relationship),with:localStorage.getItem("id"),treeId:this.tree._id},dateOfBirth:this.dOb,trees:{name:this.tree.name,treeId:this.tree._id,owner:!1}};j.addMember(r).then((function(e){console.log(e),200===e.status&&(t.addingMember=!1,t.addedMember=!0,setTimeout((function(){t.addedMember=!1,t.addMemberBtn=!0,t.name=t.gender=t.relationship=t.dOb=t.email=""}),3500))})).catch((function(e){e&&(t.addingMember=!1,t.addMemberErr=!0,setTimeout((function(){t.addMemberErr=!1,t.addMemberBtn=!0,t.error=e,t.name=t.gender=t.relationship=t.dOb=t.email=""}),3500))}))}},getMembers:function(){this.members=this.tree.members},getTree:function(){var t=this,e=this.$route.params.id;j.viewTree(e).then((function(e){200===e.status&&(t.tree=e.data.tree,t.getMembers(),t.getAllMembers())})).catch((function(e){if(e)return t.treeGetErr=!0,t.error=e,null}))},getAllMembers:function(){var t=this,e=this.tree._id,a={id:localStorage.getItem("id"),treeid:e};j.getAllMembers(a.id,a.treeid).then((function(e){200===e.status&&(t.allMembers=e.members)})).catch((function(e){e&&(t.memberErr=!0,t.error=e)}))},getRelationship:function(t){var e="";return this.allMembers.forEach((function(a){a._id==localStorage.getItem("id")&&("father"!=t&&"mother"!=t||("male"==a.gender&&(e="son"),"female"==a.gender&&(e="daughter")),"brother"!=t&&"sister"!=t||("male"==a.gender&&(e="brother"),"female"==a.gender&&(e="sister")),"daughter"!=t&&"son"!=t||("male"==a.gender&&(e="father"),"female"==a.gender&&(e="mother")))})),e}},beforeMount:function(){this.getTree()},created:function(){this.getAllMembers()}}),ft=gt,bt=Object(l["a"])(ft,vt,ht,!1,null,null,null),_t=bt.exports,Ct=a("2f62"),wt=a("1c46"),yt=a.n(wt);r["a"].use(Ct["a"]);var xt="http://localhost:8081";I.a.defaults.headers.common["Access-Control-Allow-Origin"]="*",I.a.defaults.headers.common["Access-Control-Allow-Headers"]="http://localhost:8080";var Et=new Ct["a"].Store({state:{status:"",token:localStorage.getItem("token")||"",name:"",email:"",id:""},mutations:{auth_request:function(t){t.status="loading"},auth_success:function(t,e,a,r,s){t.status="success",t.token=e,t.name=a,t.email=r,t.id=s},auth_error:function(t){t.status="error"},logout:function(t){t.status="",t.token="",t.email="",t.name="",t.id=""}},actions:{login:function(t,e){var a=t.commit;return new Promise((function(t,r){a("auth_request"),I()({url:xt+"/login",data:e,method:"POST"}).then((function(e){if(console.log(e.data),200===e.data.status){var s={token:yt.a.randomBytes(64).toString("hex"),name:e.data.member.name,email:e.data.member.email,id:e.data.member._id};localStorage.setItem("token",s.token),localStorage.setItem("name",s.name),localStorage.setItem("email",s.email),localStorage.setItem("id",s.id),a("auth_success",s.token,s.name,s.email,s.id),t(e)}500===e.data.status&&r()})).catch((function(t){a("auth_error"),localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("id"),r(t)}))}))},register:function(t,e){var a=t.commit;return new Promise((function(t,r){a("auth_request"),I()({url:xt+"/users/create",data:e,method:"POST"}).then((function(e){if(200===e.status&&a("auth_success",null,null,null),t(e),200!=e.status)return e.status})).catch((function(t){a("auth_error",t),r(t)}))}))},logout:function(t){var e=t.commit;return new Promise((function(t,a){e("logout"),localStorage.removeItem("token"),localStorage.removeItem("name"),localStorage.removeItem("email"),localStorage.removeItem("id"),t(),t()||a()}))}},getters:{isLoggedIn:function(t){return!!t.token},authStatus:function(t){return t.status},name:function(t){return t.name},email:function(t){return t.email},userToken:function(t){return t.token},id:function(t){return t.id}}});r["a"].use(u["a"]);var Tt=[{path:"/",name:"Home",component:x},{path:"/Register",name:"Register",component:tt},{path:"/trees",name:"Trees",component:G,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:S},{path:"/new",name:"NewTree",component:pt,meta:{requiresAuth:!0}},{path:"/tree/:id",name:"Viewtree",component:_t,meta:{requiresAuth:!0}}],Mt=new u["a"]({mode:"history",base:"/",routes:Tt});Mt.beforeEach((function(t,e,a){if(t.matched.some((function(t){return t.meta.requiresAuth}))){if(Et.getters.isLoggedIn)return void a();a("/login")}else a()}));var Ot=Mt,At=a("cd1c"),St=a.n(At);r["a"].config.productionTip=!1,r["a"].component("vue-headful",St.a),r["a"].prototype.$http=I.a;var kt=localStorage.getItem("token");kt&&(r["a"].prototype.$http.defaults.headers.common["Authorization"]="Bearer "+kt),new r["a"]({router:Ot,store:Et,render:function(t){return t(d)}}).$mount("#app")},"58de":function(t,e,a){},"5b49":function(t,e,a){"use strict";var r=a("58de"),s=a.n(r);s.a},6:function(t,e){},7:function(t,e){},8:function(t,e){},9:function(t,e){},f2a5:function(t,e,a){"use strict";var r=a("f46c"),s=a.n(r);s.a},f46c:function(t,e,a){}});
//# sourceMappingURL=app.748bd082.js.map